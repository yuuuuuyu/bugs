# 表格的批量删除和变量声明的进阶使用
:::tip
有任何相关问题可直接联系 @刘华勋
:::
场景：表格的批量删除勾选数据
<drawing-bed src="2024050701/image-20240507133951654.png"/>
声明变量
<drawing-bed src="2024050701/image-20240507133817183.png"/>

通过组件逻辑获取表格的选中数据：
<drawing-bed src="2024050701/image-20240507133827691.png"/>

调用实体接口批量删除选中数据：
<drawing-bed src="2024050701/image-20240507133851075.png"/>

消息提示：
<drawing-bed src="2024050701/image-20240507133900962.png"/>

通过变量编写函数方式实现（不推荐，只用作思路）
该方法是为了解决同一页面组件的共享数据的问题。

因为变量右侧的“值”内容实质上就是js代码，所以我们可以将右侧的值写成函数或者任何符合js代码规则的表达式。

示例：

在下列表格中我们需要删除选中的数据，我们先在表格的“选项发生变化时”事件中将被选中的数组复制给this.state这个页面公用的响应式对象。
<drawing-bed src="2024050701/image-20240507103256846.png"/>
设置变量的右侧值，注意要写做箭头函数，并记得调用该函数。
<drawing-bed src="20240507001/image-20240507103256846.png"/>


生成的代码：
<drawing-bed src="2024050701/image-20240507103429087.png"/>

删除逻辑：
<drawing-bed src="2024050701/image-20240507104344905.png"/>


在删除函数中我们可以直接获取到上一步存入this.state里的字段，注意字段要一致。
<drawing-bed src="2024050701/image-20240507104406260.png"/>

实际生成的代码：
<drawing-bed src="2024050701/image-20240507104423355.png"/>

