<!--
 * @Description: 
 * @Author: (äºŽæ™ºå‹‡)zhiyong.yu@ytever.com
 * @Date: 2025-01-07 16:39:42
 * @LastEditors: (äºŽæ™ºå‹‡)zhiyong.yu@ytever.com
 * @LastEditTime: 2025-01-07 17:09:31
-->
# å¦‚ä½•ä¸ºæ ‘æ·»åŠ æ ¹èŠ‚ç‚¹

:::info
hhhðŸ¤£å¦‚æžœä½ èƒ½è¯´æœåŽç«¯ï¼Œè®©åŽç«¯æŽ¥å£ç›´æŽ¥è¿”å›žå¸¦æ ¹èŠ‚ç‚¹çš„æ•°æ®ä¹Ÿä¸æ˜¯ä¸å¯ä»¥
:::

## æ¡ˆä¾‹æ•ˆæžœ

![å¦‚ä½•ä¸ºæ ‘æ·»åŠ æ ¹èŠ‚ç‚¹](/drawing-bed/20250106/åŽŸå­ç»„ä»¶é‡å†™.png)


## é‡å†™ä»£ç 

```ts
import { BTPUtils, BTPDialogViewContext } from 'beeboat-plus'
import { nextTick } from 'vue';
import { cloneDeep } from 'lodash-es';
import CustomUtils from '@/utils';
import Api from "./api"

/**
 * 1. å‘½åè§„åˆ™ PageCode+ViewContext
 * 2. æ™®é€šé¡µé¢ç»§æ‰¿BTPViewContext
 * 3. å¼¹çª—é¡µé¢ç»§æ‰¿BTPDialogViewContext
 * 4. é‡å†™é¡µé¢ç»„ä»¶éœ€è¦é€šè¿‡ç»„ä»¶Codeå…³è”
 *
 */
export default class RepairtypeEditPageViewContext extends BTPDialogViewContext {
    constructor(vueInstance?: any, viewId?: string, viewModelId?: string, parentViewContext?: any) {
        super(vueInstance, viewId, viewModelId, parentViewContext)

        this.registerCustomEvents('ParentId', 'loadTreeData', true, (p1)=>{
            return this.parentIdHandler(p1)
        })
    }
    executeAction(executor) {
        return super.executeAction(executor)
    }

    parentIdHandler(params={}) {
        const root = {
            children: [],
            maintainTypeCode: "CustomCode",
            maintainTypeName: "ç»´ä¿®ç±»åž‹",
            id: '-1'
        }
        return Api.listTree(params).then(res => {
            let { data } = res;
            root.children = data || []

            return new Promise(resolve => {
                resolve({
                    data: [root]
                })
            })
        })
    }
}

```