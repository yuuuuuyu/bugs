import{_ as s,o as n,c as a,Q as l}from"./chunks/framework.d0ae72ca.js";const h=JSON.parse('{"title":"ElementPlus升级到2.3.8后多语言报错","description":"","frontmatter":{},"headers":[],"relativePath":"bugs/elementplus/question/2.md","filePath":"bugs/elementplus/question/2.md"}'),p={name:"bugs/elementplus/question/2.md"},o=l(`<h1 id="elementplus升级到2-3-8后多语言报错" tabindex="-1">ElementPlus升级到2.3.8后多语言报错 <a class="header-anchor" href="#elementplus升级到2-3-8后多语言报错" aria-label="Permalink to &quot;ElementPlus升级到2.3.8后多语言报错&quot;">​</a></h1><h2 id="启动报错" tabindex="-1">启动报错 <a class="header-anchor" href="#启动报错" aria-label="Permalink to &quot;启动报错&quot;">​</a></h2><p><code>ERROR No known conditions for &quot;/lib/locale/lang/en&quot; entry in &quot;element-plus&quot; package</code></p><h2 id="产生原因" tabindex="-1">产生原因 <a class="header-anchor" href="#产生原因" aria-label="Permalink to &quot;产生原因&quot;">​</a></h2><p>项目内全局设置过多语言，<em><strong>单独引用</strong></em>过语言文件，ElementPlus版本升级到2.3.8后，语言文件路径发生变化，导致引用报错，代码如下:</p><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">import zhCn from &quot;element-plus/lib/locale/lang/zh-cn&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">el-config-provider</span><span style="color:#E1E4E8;"> :</span><span style="color:#B392F0;">locale</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#E1E4E8;">zhCn</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;RouterView /&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">el-config-provider</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">import zhCn from &quot;element-plus/lib/locale/lang/zh-cn&quot;</span></span>
<span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">el-config-provider</span><span style="color:#24292E;"> :</span><span style="color:#6F42C1;">locale</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;</span><span style="color:#24292E;">zhCn</span><span style="color:#032F62;">&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;RouterView /&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">el-config-provider</span><span style="color:#24292E;">&gt;</span></span></code></pre></div><h2 id="解决方案" tabindex="-1">解决方案 <a class="header-anchor" href="#解决方案" aria-label="Permalink to &quot;解决方案&quot;">​</a></h2><p>修改引用文件的路径。</p><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">import zhCn from &quot;element-plus/dist/locale/zh-cn&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">el-config-provider</span><span style="color:#E1E4E8;"> :</span><span style="color:#B392F0;">locale</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#E1E4E8;">zhCn</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;RouterView /&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">el-config-provider</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">import zhCn from &quot;element-plus/dist/locale/zh-cn&quot;</span></span>
<span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">el-config-provider</span><span style="color:#24292E;"> :</span><span style="color:#6F42C1;">locale</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;</span><span style="color:#24292E;">zhCn</span><span style="color:#032F62;">&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;RouterView /&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">el-config-provider</span><span style="color:#24292E;">&gt;</span></span></code></pre></div><p>此外，<code>vite.config.ts</code>中可能也存在相对应的设置，如果上述路径已经修改，仍旧报错那就需要修改<code>vite.config.ts</code>中的配置，需要注意的是<code>vite.config.ts</code>需要在<code>蜂舟平台</code>上进行修改，否则<em><strong>每次发布都会被覆盖掉</strong></em>。</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">···</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> ({ </span><span style="color:#FFAB70;">command</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">mode</span><span style="color:#E1E4E8;"> }</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ConfigEnv</span><span style="color:#E1E4E8;">)</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">UserConfigExport</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">env</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">loadEnv</span><span style="color:#E1E4E8;">(mode, root)</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">        ···</span></span>
<span class="line"><span style="color:#E1E4E8;">        optimizeDeps: {</span></span>
<span class="line"><span style="color:#E1E4E8;">            include: [</span></span>
<span class="line"><span style="color:#E1E4E8;">                ···</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#9ECBFF;">&#39;element-plus/dist/locale/en&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#9ECBFF;">&#39;element-plus/dist/locale/zh-cn&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                ···</span></span>
<span class="line"><span style="color:#E1E4E8;">            ],</span></span>
<span class="line"><span style="color:#E1E4E8;">        },</span></span>
<span class="line"><span style="color:#E1E4E8;">        ···</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">···</span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> ({ </span><span style="color:#E36209;">command</span><span style="color:#24292E;">, </span><span style="color:#E36209;">mode</span><span style="color:#24292E;"> }</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ConfigEnv</span><span style="color:#24292E;">)</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">UserConfigExport</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">env</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">loadEnv</span><span style="color:#24292E;">(mode, root)</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">        ···</span></span>
<span class="line"><span style="color:#24292E;">        optimizeDeps: {</span></span>
<span class="line"><span style="color:#24292E;">            include: [</span></span>
<span class="line"><span style="color:#24292E;">                ···</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#032F62;">&#39;element-plus/dist/locale/en&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#032F62;">&#39;element-plus/dist/locale/zh-cn&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                ···</span></span>
<span class="line"><span style="color:#24292E;">            ],</span></span>
<span class="line"><span style="color:#24292E;">        },</span></span>
<span class="line"><span style="color:#24292E;">        ···</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h2 id="其他" tabindex="-1">其他 <a class="header-anchor" href="#其他" aria-label="Permalink to &quot;其他&quot;">​</a></h2><p>如果项目内设置多语言方式不同于以上，则需要根据具体情况修改。此bug仅限于单独引用指定的语言文件导致的问题。</p>`,13),e=[o];function t(c,r,E,i,y,d){return n(),a("div",null,e)}const g=s(p,[["render",t]]);export{h as __pageData,g as default};
